# yaml-language-server: $schema=https://unpkg.com/@cajuinasi/sveltia-cms/schema/sveltia-cms.json
backend:
  name: 'github'
  repo: 'cajuinasaogeraldo/cajuina-site'
  branch: 'development'
  base_url: 'https://hub.cajuinasaogeraldo.com.br:8444/'
  squash_merges: true
  preview_url: 'https://maroon-shark-519604.hostingersite.com/'
  commit_messages:
    create: '[cms] Create {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}>'
    update: '[cms] Update {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}>'
    delete: '[cms] Delete {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}>'
    uploadMedia: '[cms] Upload “{{path}}” - {{author-name}} <{{author-login}}>'
    deleteMedia: '[cms] Delete “{{path}}” - {{author-name}} <{{author-login}}>'
    workflowPublish: '[cms] Editorial Publish {{collection}} "{{slug}}"'

media_folder: 'src/assets/images' # Location where files will be stored in the repo
public_folder: '/src/assets/images' # The src attribute for uploaded media

publish_mode: editorial_workflow

media_libraries:
  default:
    config:
      slugify_filename: true
      transformations:
        raster_image:
          format: webp
          quality: 100
        svg:
          optimize: true

collections:
  - divider: true

  - name: banners
    icon: panorama # https://fonts.google.com/icons?icon.set=Material+Symbols&icon.platform=web
    label: Banners do Slide
    folder: src/data/banner
    create: true
    slug: '{{slug}}'
    editor:
      preview: false
    media_folder: '/src/assets/images/banner'
    public_folder: '/src/assets/images/banner'
    fields:
      - { name: title, label: Título, widget: string }
      - { name: image, label: 'Imagem de Fundo', widget: image, required: true }
      - name: cta
        label: Call to Action Link
        widget: string
        required: false
      - {
          name: order,
          label: Ordem,
          widget: number,
          default: 0,
          value_type: int,
          hint: 'Ordem de exibição (menor número = primeiro)',
        }
      - {
          name: active,
          label: Ativo,
          widget: boolean,
          default: true,
          hint: 'Desmarque para ocultar este banner do site',
        }
      - {
          name: publishDate,
          label: 'Data de Publicação',
          widget: datetime,
          required: false,
          hint: 'Banner só será exibido a partir desta data',
        }
      - {
          name: expireDate,
          label: 'Data de Expiração',
          widget: datetime,
          required: false,
          hint: 'Banner será ocultado após esta data',
        }

  - name: middle-banner
    icon: image
    label: Banner do Meio
    folder: src/data/middle-banner
    create: false
    slug: '{{slug}}'
    media_folder: '/src/assets/images/middle-banner' # Location where files will be stored in the repo
    public_folder: '/src/assets/images/middle-banner' # The src attribute for uploaded media
    editor:
      preview: false
    fields:
      - { name: title, label: Título, widget: string }
      - { name: image, label: 'Imagem Desktop', widget: image, required: true }
      - { name: active, label: Ativo, widget: boolean, default: true }

  - name: distribuidores
    label: Distribuidores
    label_singular: Distribuidor
    description: Gerenciar distribuidores autorizados
    icon: store
    folder: src/data/distribuidor
    create: true
    delete: true
    slug: '{{nome}}'
    extension: md
    format: frontmatter
    media_folder: /src/assets/images/distribuidor
    public_folder: /src/assets/images/distribuidor
    sortable_fields:
      fields: [nome, endereco, active]
      default:
        field: nome
        direction: ascending
    editor:
      preview: false
    fields:
      - { name: nome, label: Nome, widget: string, required: true, hint: 'Nome do distribuidor' }
      - {
          name: endereco,
          label: Endereço,
          widget: string,
          required: true,
          hint: 'Após preencher, use o botão abaixo para buscar as coordenadas automaticamente',
        }
      - {
          name: telefone,
          label: Telefone,
          widget: string,
          required: false,
          hint: 'Formato sugerido: (88) 3512-3400 ou (88) 98765-4321',
        }
      - {
          name: placeId,
          label: 'Place ID',
          widget: string,
          required: false,
          hint: 'ID do Google Places (preenchido automaticamente)',
        }
      - {
          name: lat,
          label: Latitude,
          widget: number,
          value_type: float,
          min: -90,
          max: 90,
          step: 0.000001,
          required: true,
          hint: 'Será preenchido automaticamente ao buscar coordenadas',
        }
      - {
          name: lng,
          label: Longitude,
          widget: number,
          value_type: float,
          min: -180,
          max: 180,
          step: 0.000001,
          required: true,
          hint: 'Será preenchido automaticamente ao buscar coordenadas',
        }
      - {
          name: active,
          label: Ativo,
          widget: boolean,
          default: true,
          required: true,
          hint: 'Define se o distribuidor aparece no site',
        }

  - divider: true

  - name: config
    label: Site Configuration
    icon: settings
    editor:
      preview: false
    files:
      - name: headers
        label: Headers
        file: public/_headers
        fields:
          - {
              name: body,
              label: Headers,
              widget: code,
              output_code_only: true,
              allow_language_selection: false,
            }

      - name: robots
        label: Robots
        file: public/robots.txt
        fields:
          - {
              name: body,
              label: Robots,
              widget: code,
              output_code_only: true,
              allow_language_selection: false,
            }

      - name: htaccess
        label: Apache Settings
        file: public/_htaccess
        fields:
          - {
              name: body,
              label: HTAccess,
              widget: code,
              output_code_only: true,
              allow_language_selection: false,
              hint: Arquivo .htaccess NÃO MEXA SE NÃO SABE O QUE ESTÁ FAZENDO! Se precisar de ajuda entre em contato com o suporte,
            }

      - name: siteConfig
        label: Configurações Gerais
        file: public/_config
        fields:
          - {
              name: body,
              label: HTAccess,
              widget: code,
              output_code_only: true,
              allow_language_selection: false,
              hint: Arquivo .htaccess NÃO MEXA SE NÃO SABE O QUE ESTÁ FAZENDO! Se precisar de ajuda entre em contato com o suporte,
            }
